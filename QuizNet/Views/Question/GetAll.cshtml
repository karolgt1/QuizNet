@model List<QuizNet.BusinessLogic.DTOs.QuestionDto>
@{
    ViewData["Title"] = "GetAll";
}

<h1>Questions</h1>
<br />
<a class="btn btn-primary"
   asp-controller="Question"
   asp-action="Create">Add new question!</a>
<div class="btn-group dropright">
    <button type="button" class="btn btn-primary">
        Generate Quiz
    </button>
    <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="sr-only">Toggle Dropright</span>
    </button>
    <div class="dropdown-menu">
        <a class="dropdown-item"
           asp-controller="Question"
           asp-action="GenerateRecentlyAddedQuestionsQuiz">Last added questions</a>
        <a class="dropdown-item"
           asp-controller="Question"
           asp-action="GenerateQuiz">Random questions</a>
    </div>
</div>

<hr />
@foreach (var question in Model)
{
    <div class="mb-5">
        <div class="row">
            <div class="col-sm-9">
                <h3>@question.Text</h3>
            </div>
            <div class="col-sm-1">
                <a class="btn btn-primary"
                   asp-controller="Question"
                   asp-action="Edit"
                   asp-route-id="@question.Id.ToString()">Edit</a>
            </div>
            <div class="col-sm-1">
                <a class="btn btn-outline-primary"
                   asp-controller="Question"
                   asp-action="Get"
                   asp-route-id="@question.Id.ToString()">Details</a>
            </div>
            <div class="col-sm-1">
                <a class="btn btn-danger"
                   asp-controller="Question"
                   asp-action="Delete"
                   asp-route-id="@question.Id.ToString()">Delete</a>
            </div>

        </div>
        <i>Created at @question.Time</i>
        <br />
        <br />
        <ul class="list-group">

            @foreach (var answer in question.Answers)
            {
                <li class="list-group-item">@answer.Text</li>
            }
        </ul>

    </div>
}
